project(ViSP-Sample)

cmake_minimum_required(VERSION 2.6)

#--------------------------------------------------------------------
# By default set release configuration
#--------------------------------------------------------------------
if(NOT CMAKE_BUILD_TYPE)
  set(CMAKE_BUILD_TYPE "Release" CACHE STRING "Choose the type of build, options are: None Debug Release" FORCE)
endif()

find_package(VISP REQUIRED)
if(VISP_FOUND)
  include_directories(${VISP_INCLUDE_DIRS})
#  MESSAGE("VISP_VERSION_STRING ${VISP_VERSION_STRING}")
#  MESSAGE("VISP_SOURCE_DIR ${VISP_SOURCE_DIR}")
#  MESSAGE("VISP_ROOT_DIR ${VISP_ROOT_DIR}")
#  MESSAGE("VISP_DEFINITIONS ${VISP_DEFINITIONS}")
#  MESSAGE("VISP_INCLUDE_DIRS ${VISP_INCLUDE_DIRS}")
#  MESSAGE("VISP_LIBRARY_DIRS ${VISP_LIBRARY_DIRS}")
#  MESSAGE("VISP_LIBRARIES ${VISP_LIBRARIES}")
endif()

set(SOURCE
  sample-vp1394TwoGrabber.cpp
  sample-vp1394TwoGrabber-2.cpp
  sample-vp1394TwoGrabber-3.cpp
  sample-vp1394TwoGrabber-4.cpp
  sample-vp1394TwoGrabber-5.cpp
  sample-vp1394TwoGrabber-6.cpp
  sample-vp1394TwoGrabber-7.cpp
  sample-vp1394TwoGrabber-8.cpp
  sample-vp1394TwoGrabber-9.cpp
  sample-vp1394TwoGrabber-10.cpp
  sample-vp1394TwoGrabber-11.cpp
  sample-vp1394TwoGrabber-12.cpp
  sample-vp1394TwoGrabber-13.cpp
  sample-vp1394TwoGrabber-14.cpp
  sample-vpAdaptiveGain.cpp
  sample-vpAdaptiveGain-2.cpp
  sample-vpAdaptiveGain-3.cpp
  sample-vpAR.cpp
  sample-vpArray2D.cpp
  sample-vpCameraParameters.cpp
  sample-vpClient-1.cpp
  sample-vpClient-2.cpp
  sample-vpClient-3.cpp
  sample-vpColor.cpp
  sample-vpColVector.cpp
  sample-vpColVector-2.cpp
  sample-vpColVector-3.cpp
  sample-vpColVector-4.cpp
  sample-vpColVector-5.cpp
  sample-vpDebug.cpp
  sample-vpDetectorAprilTag.cpp
  sample-vpDetectorAprilTag-2.cpp
  sample-vpDetectorAprilTag-3.cpp
  sample-vpDetectorDataMatrixCode.cpp
  sample-vpDetectorFace.cpp
  sample-vpDetectorQRCode.cpp
  sample-vpDiskGrabber.cpp
  sample-vpDisplay.cpp
  sample-vpDisplay-2.cpp
  sample-vpDisplay-3.cpp
  sample-vpDisplay-4.cpp
  sample-vpDisplay-5.cpp
  sample-vpDisplay-6.cpp
  sample-vpDisplay-7.cpp
  sample-vpDisplay-8.cpp
  sample-vpDisplayX.cpp
  sample-vpDisplayX-2.cpp
  sample-vpDisplayD3D.cpp
  sample-vpDisplayGDI.cpp
  sample-vpDisplayGTK.cpp
  sample-vpDisplayGTK-2.cpp
  sample-vpDisplayGTK-3.cpp
  sample-vpDisplayOpenCV.cpp
  sample-vpDot.cpp
  sample-vpDot2.cpp
  sample-vpDot2-2.cpp
  sample-vpFeatureMoment.cpp
  sample-vpFeatureMomentCommon.cpp
  sample-vpFeatureMomentImpl.cpp
  sample-vpFeaturePoint3D.cpp
  sample-vpFeaturePoint3D-2.cpp
  sample-vpFeaturePointPolar.cpp
  sample-vpFeaturePointPolar-2.cpp
  sample-vpFeatureThetaU.cpp
  sample-vpFeatureThetaU-2.cpp
  sample-vpFeatureTranslation.cpp
  sample-vpFeatureTranslation-2.cpp
  sample-vpFeatureTranslation-3.cpp
  sample-vpFlyCapture.cpp
  sample-vpFlyCapture-2.cpp
  sample-vpFlyCapture-3.cpp
  sample-vpFlyCapture-4.cpp
  sample-vpFlyCapture-5.cpp
  sample-vpFlyCapture-6.cpp
  sample-vpFlyCapture-7.cpp
  sample-vpFlyCapture-8.cpp
  sample-vpFlyCapture-9.cpp
  sample-vpFlyCapture-10.cpp
  sample-vpFlyCapture-11.cpp
  sample-vpForceTorqueIitSensor.cpp
  sample-vpForceTwistMatrix.cpp
  sample-vpForceTwistMatrix-2.cpp
  sample-vpForceTwistMatrix-3.cpp
  sample-vpForceTwistMatrix-4.cpp
  sample-vpFrameGrabber.cpp
  sample-vpGaussRand.cpp
  sample-vpHomography.cpp
  sample-vpHomogeneousMatrix.cpp
  sample-vpHomogeneousMatrix-2.cpp
  sample-vpHomogeneousMatrix-3.cpp
  sample-vpImagePoint.cpp
  sample-vpImagePoint-2.cpp
  sample-vpImagePoint-3.cpp
  sample-vpIoTools.cpp
  sample-vpIoTools-2.cpp
  sample-vpIoTools-3.cpp
  sample-vpImage.cpp
  sample-vpImage-2.cpp
  sample-vpImageConvert.cpp
  sample-vpImageConvert-2.cpp
  sample-vpImageConvert-3.cpp
  sample-vpImageConvert-4.cpp
  sample-vpImageConvert-5.cpp
  sample-vpImageConvert-6.cpp
  sample-vpImageConvert-7.cpp
  sample-vpImageConvert-8.cpp
  sample-vpImageConvert-9.cpp
  sample-vpImageFilter.cpp
  sample-vpImageConvert-10.cpp
  sample-vpImageConvert-11.cpp
  sample-vpImageConvert-12.cpp
  sample-vpImageConvert-13.cpp
  sample-vpImageConvert-14.cpp
  sample-vpImageConvert-15.cpp
  sample-vpImageIo.cpp
  sample-vpImageSimulator.cpp
  sample-vpImageTools.cpp
  sample-vpImageTools-2.cpp
  sample-vpKeyPoint.cpp
  sample-vpKeyPoint-2.cpp
  sample-vpKeyPoint-3.cpp
  sample-vpKeyPoint-4.cpp
  sample-vpKeyPointSurf.cpp
  sample-vpKeyPointSurf-2.cpp
  sample-vpKinect.cpp
  sample-vpKltOpencv.cpp
  sample-vpLinearKalmanFilterInstantiation.cpp
  sample-vpLinearKalmanFilterInstantiation-2.cpp
  sample-vpLinearKalmanFilterInstantiation-3.cpp
  sample-vpLinearKalmanFilterInstantiation-4.cpp
  sample-vpLinearKalmanFilterInstantiation-5.cpp
  sample-vpMatrix.cpp
  sample-vpMatrix-2.cpp
  sample-vpMatrix-3.cpp
  sample-vpMatrix-4.cpp
  sample-vpMatrix-5.cpp
  sample-vpMatrix-6.cpp
  sample-vpMatrix-7.cpp
  sample-vpMatrix-8.cpp
  sample-vpMatrix-9.cpp
  sample-vpMatrix-10.cpp
  sample-vpMatrix-11.cpp
  sample-vpMatrix-12.cpp
  sample-vpMatrix-13.cpp
  sample-vpMatrix-14.cpp
  sample-vpMatrix-15.cpp
  sample-vpMatrix-16.cpp
  sample-vpMatrix-17.cpp
  sample-vpMatrix-18.cpp
  sample-vpMbEdgeTracker.cpp
  sample-vpMbEdgeTracker-1.cpp
  sample-vpMbEdgeTracker-2.cpp
  sample-vpMbEdgeTracker-lod.cpp
  sample-vpMbEdgeKltTracker.cpp
  sample-vpMbEdgeKltTracker-1.cpp
  sample-vpMbEdgeKltTracker-2.cpp
  sample-vpMbKltTracker.cpp
  sample-vpMbKltTracker-1.cpp
  sample-vpMbKltTracker-2.cpp
  sample-vpMeLine.cpp
  sample-vpMeNurbs.cpp
  sample-vpMoment.cpp
  sample-vpMomentAlpha.cpp
  sample-vpMomentCentered.cpp
  sample-vpMomentCommon.cpp
  sample-vpMomentDatabase.cpp
  sample-vpMomentGravityCenter.cpp
  sample-vpMomentObject.cpp
  sample-vpMomentObject-2.cpp
  sample-vpMomentObject-3.cpp
  sample-vpMomentObject-4.cpp
  sample-vpMomentSurfaceNormalized.cpp
  sample-vpOpenCVGrabber.cpp
  sample-vpOpenCVGrabber-2.cpp
  sample-vpParallelPort.cpp
  sample-vpParseArgv.cpp
  sample-vpParseArgv-2.cpp
  sample-vpPlot.cpp
  sample-vpPolygon.cpp
  sample-vpPoseFeatures-1.cpp
  sample-vpPoseFeatures-2.cpp
  sample-vpPoseVector.cpp
  sample-vpRealSense.cpp
  sample-vpRealSense-2.cpp
  sample-vpRealSense-3.cpp
  sample-vpRealSense-4.cpp
  sample-vpRealSense2-1.cpp
  sample-vpRealSense2-2.cpp
  sample-vpRealSense2-3.cpp
  sample-vpRealSense2-4.cpp
  sample-vpRealSense2-5.cpp
  sample-vpRingLight.cpp
  sample-vpRingLight-2.cpp
  sample-vpRobotAfma6.cpp
  sample-vpRobotAfma6-2.cpp
  sample-vpRobotAfma6-3.cpp
  sample-vpRobotAfma6-4.cpp
  sample-vpRobotAfma6-5.cpp
  sample-vpRobotBiclops.cpp
  sample-vpRobotBiclops-2.cpp
  sample-vpRobotCamera.cpp
  sample-vpRobotViper850.cpp
  sample-vpRobotViper850-2.cpp
  sample-vpRobotViper850-3.cpp
  sample-vpRobotViper850-4.cpp
  sample-vpRobotViper850-5.cpp
  sample-vpRobotViper850-6.cpp
  sample-vpRobotViper850-7.cpp
  sample-vpRobotViper850-8.cpp
  sample-vpRobotViper850-9.cpp
  sample-vpRobotViper850-10.cpp
  sample-vpRobotViper850-11.cpp
  sample-vpRobotViper850-12.cpp
  sample-vpRobotViper850-13.cpp
  sample-vpRobotViper850-14.cpp
  sample-vpRobotViper850-15.cpp
  sample-vpRotationMatrix.cpp
  sample-vpRotationMatrix-2.cpp
  sample-vpRowVector.cpp
  sample-vpRowVector-2.cpp
  sample-vpRowVector-3.cpp
  sample-vpRowVector-4.cpp
  sample-vpRowVector-5.cpp
  sample-vpRxyzVector.cpp
  sample-vpRzyxVector.cpp
  sample-vpRzyzVector.cpp
  sample-vpScanPoint.cpp
  sample-vpSerial.cpp
  sample-vpServer-1.cpp
  sample-vpServer-2.cpp
  sample-vpServer-3.cpp
  sample-vpServo.cpp
  sample-vpServo-2.cpp
  sample-vpServo-3.cpp
  sample-vpServolens.cpp
  sample-vpServolens2.cpp
  sample-vpSickLDMRS.cpp
  sample-vpSimulatorCamera.cpp
#   sample-vpSimulatorPioneer.cpp
  sample-vpSimulatorPioneerPan.cpp
  sample-vpSimulatorViper850-1.cpp
  sample-vpSimulatorViper850-2.cpp
  sample-vpSimulatorViper850-3.cpp
  sample-vpTime.cpp
  sample-vpTime-2.cpp
  sample-vpTemplateTracker.cpp
  sample-vpTemplateTrackerZone.cpp
  sample-vpThetaUVector.cpp
  sample-vpThetaUVector-2.cpp
  sample-vpThetaUVector-3.cpp
  sample-vpThetaUVector-4.cpp
  sample-vpThetaUVector-5.cpp
  sample-vpTranslationVector.cpp
  sample-vpTranslationVector-2.cpp
  sample-vpUniRand.cpp
  sample-vpVelocityTwistMatrix.cpp
  sample-vpVelocityTwistMatrix-2.cpp
  sample-vpVelocityTwistMatrix-3.cpp
  sample-vpV4l2Grabber.cpp
  sample-vpV4l2Grabber-2.cpp
  sample-vpV4l2Grabber-3.cpp
  sample-vpV4l2Grabber-4.cpp
  sample-vpVideoReader.cpp
  sample-vpVideoReader-2.cpp
  sample-vpVideoReader-3.cpp
  sample-vpVideoReader-4.cpp
  sample-vpVideoReader-5.cpp
  sample-vpVideoReader-6.cpp
  sample-vpVideoWriter.cpp
  sample-vpViper.cpp
  sample-vpViper850.cpp
  sample-vpViper850-2.cpp
  sample-vpViper850-3.cpp
  sample-vpWireFrameSimulator.cpp
  sample-vpXMLParserCamera.cpp
  sample-vpXMLParserCamera-2.cpp
  sample-vpXMLParserCamera-3.cpp
)

foreach(source ${SOURCE})
  # Compute the name of the binary to create
  get_filename_component(binary ${source} NAME_WE)

  # From source compile the binary and add link rules
  add_executable(${binary} ${source})
  # It is not requested to add explicitely ViSP libraries
  if(VISP_FOUND)
    target_link_libraries(${binary} ${VISP_LIBRARIES})
  endif()

  # Add test
  add_test(${binary} ${binary})
endforeach()

#----------------------------------------------------------------------
# For Dart server and tests
# We use CDash set through CTestConfig.cmake file
# Dashboards are sent to http://cdash.irisa.fr/CDash/index.php?project=ViSP
#----------------------------------------------------------------------
enable_testing()
include(Dart)

